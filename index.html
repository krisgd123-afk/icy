<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latter For You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&family=Sacramento&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; overflow: hidden; background-color: #fdf2f8; }
        .font-hand { font-family: 'Sacramento', cursive; } 
        .font-cute { font-family: 'Dancing Script', cursive; }

        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }
        .animate-shake { animation: shake 0.5s ease-in-out; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-float-delayed { animation: float 4s ease-in-out infinite 1s; }

        @keyframes heartFloat {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
        }
        .heart-particle {
            position: absolute;
            color: #ff4d4d;
            font-size: 20px;
            user-select: none;
            pointer-events: none;
            animation: heartFloat linear infinite;
        }
        ::-webkit-scrollbar { width: 0px; background: transparent; }
    </style>
</head>
<body class="h-screen w-screen relative">

    <audio id="audioLatter3" src="./music/proud of me.mp4"></audio>
    <audio id="audioLatter4" src="./music/love u.mp4"></audio>

    <section id="page1" class="absolute inset-0 z-30 bg-white flex flex-col items-center justify-center transition-transform duration-700 ease-in-out">
        <h1 class="text-5xl md:text-6xl font-hand text-pink-600 mb-8">latter for you</h1>
        <div class="relative w-64 h-64 mb-10">
            <img src="./img/card love.png" alt="Stack of Letters" class="w-full h-full object-contain drop-shadow-2xl">
        </div>
        <button onclick="toPage2()" class="w-12 h-12 rounded-full border-2 border-pink-300 flex items-center justify-center text-pink-400 hover:bg-pink-50 transition animate-bounce">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
        </button>
    </section>

    <section id="page2" class="absolute inset-0 z-20 bg-pink-50 flex flex-col items-center justify-center hidden opacity-0 transition-opacity duration-700">
        <h2 class="text-3xl font-hand text-gray-700 mb-8 mt-4">Open the letter...</h2>
        <div class="grid grid-cols-2 gap-x-8 gap-y-10">
            <div class="flex flex-col items-center cursor-pointer group" onclick="openLetter(1)">
                <img id="env-1" src="./img/love surat 3.jpg" class="w-32 hover:scale-105 transition duration-300">
                <span class="mt-2 text-gray-500 font-semibold text-sm">letter 1</span>
            </div>
            <div class="flex flex-col items-center cursor-pointer group" onclick="openLetter(2)">
                <img id="env-2" src="./img/love surat1.jpg" class="w-32 hover:scale-105 transition duration-300">
                <span class="mt-2 text-gray-500 font-semibold text-sm">letter 2</span>
            </div>
            <div class="flex flex-col items-center cursor-pointer group" onclick="openLetter(3)">
                <img id="env-3" src="./img/love surat5.jpg" class="w-32 hover:scale-105 transition duration-300">
                <span class="mt-2 text-gray-500 font-semibold text-sm">letter 3</span>
            </div>
            <div class="flex flex-col items-center cursor-pointer group" onclick="openLetter(4)">
                <img id="env-4" src="./img/love surat 4.jpg" class="w-32 hover:scale-105 transition duration-300">
                <span class="mt-2 text-gray-500 font-semibold text-sm">letter 4</span>
            </div>
        </div>
    </section>

    <div id="letter-view" class="fixed inset-0 z-40 hidden bg-white">
        <button onclick="closeLetter()" class="absolute top-4 left-4 z-50 bg-white/80 p-2 rounded-full shadow-md text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
        </button>

        <div id="content-1" class="letter-content w-full h-full hidden flex-col items-center pt-16 md:pt-8 bg-[#D93838] relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"></div>
            
            <img src="./img/elemen5.jpg" class="absolute top-20 left-10 w-8 opacity-40 animate-pulse">
            <img src="./img/elemen4.jpg" class="absolute top-40 right-20 w-8 opacity-40 animate-pulse">
            <img src="./img/elemen5.jpg" class="absolute -top-5 -left-5 w-36 z-20 animate-float -rotate-12">
            <img src="./img/elemen4.jpg" class="absolute -top-5 -right-5 w-32 z-20 animate-float-delayed rotate-12">
            
            <h1 class="text-4xl md:text-5xl text-white font-cute mb-6 z-20 mt-6 md:mt-8">Happiest Valentine</h1>
            
            <div class="relative w-56 h-64 md:w-64 md:h-72 bg-white p-3 shadow-2xl rotate-2 z-20 rounded-md">
                <img src="./img/kito kecil.jpeg" class="w-full h-full object-cover">
                <img src="./img/elemen2 (1).jpg" class="absolute -bottom-6 -right-4 w-20 z-30 animate-float">
            </div>
            
            <img src="./img/elemen3.jpg" class="absolute -bottom-4 -left-4 w-36 z-20 transform -rotate-6 animate-float">
            <img src="./img/elemen2 (2).jpg" class="absolute -bottom-4 -right-4 w-40 z-20 transform rotate-6 animate-float-delayed">
            
            <div class="absolute bottom-16 w-full text-center z-30 px-12">
                <p class="text-white font-semibold text-sm drop-shadow-md bg-red-600/30 rounded-lg py-2 backdrop-blur-[2px]">
                    hey sorry for everything!<br>i just hope you always stay being you
                </p>
            </div>
        </div>

        <div id="content-2" class="letter-content w-full h-full hidden flex-col items-center pt-8 relative overflow-hidden">
            <img src="./img/background 1.jpg" class="absolute inset-0 w-full h-full object-cover opacity-60 z-0">
            <div class="absolute inset-0 bg-white/30 z-0"></div>
            <h1 class="text-4xl text-red-600 font-hand mb-8 z-10 font-bold relative">I miss you</h1>
            <div class="flex flex-col gap-4 z-10 items-center w-full px-8 relative">
                <div class="bg-white p-1.5 shadow-lg transform -rotate-6 w-44">
                    <img src="./img/kito2.jpeg" class="w-full h-40 object-contain bg-gray-50">
                    <div class="h-6"></div>
                </div>
                <div class="bg-white p-1.5 shadow-lg transform rotate-3 w-44 -mt-10 ml-16">
                    <img src="./img/kito3.jpeg" class="w-full h-40 object-contain bg-gray-50">
                     <div class="h-6"></div>
                </div>
                <div class="bg-white p-1.5 shadow-lg transform -rotate-2 w-44 -mt-10 mr-10">
                    <img src="./img/kito5.jpeg" class="w-full h-40 object-contain bg-gray-50">
                     <div class="h-6"></div>
                </div>
            </div>
        </div>

        <div id="content-3" class="letter-content w-full h-full hidden flex-col items-center justify-center p-8 bg-[#fffaf0] relative overflow-hidden">
            <img src="./img/elemen5.jpg" class="absolute top-10 left-10 w-12 opacity-30 animate-float">
            <img src="./img/elemen4.jpg" class="absolute top-20 right-10 w-10 opacity-30 animate-float-delayed">
            <img src="./img/elemen2 (1).jpg" class="absolute bottom-20 left-10 w-16 opacity-30 animate-bounce">
            <img src="./img/elemen3.jpg" class="absolute -top-5 -left-5 w-32 z-30 transform -rotate-12">
            <img src="./img/elemen2 (2).jpg" class="absolute -bottom-5 -right-5 w-36 z-30 transform rotate-12">
            <div class="border-2 border-dashed border-gray-300 p-6 w-full max-w-sm h-[75vh] flex flex-col justify-center bg-white shadow-xl z-20 relative">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 font-hand text-pink-500">To my favourite person,</h2>
                <p class="text-gray-600 text-sm leading-relaxed mb-4 text-justify font-serif">
                    proud of youðŸŽ‰<br><br>
                    Aku cuma mau bilang kalau aku bangga banget sama kamu. Aku tahu ada banyak hari di mana duniamu terasa berat, dan mungkin kamu sempat merasa ingin menyerah, tapi nyatanya kamu masih berdiri tegak di sini sekarang. Terima kasih ya sudah memilih untuk tetap bertahan dan berjuang sampai sejauh ini. Kamu jauh lebih kuat dari apa yang kamu bayangkan, i always love and proud of you
                </p>
                <div class="flex justify-between items-end mt-4">
                    <img src="./img/elemen5.jpg" class="w-12 opacity-80">
                    <p class="font-hand text-xl text-pink-500">- icy -</p>
                </div>
            </div>
        </div>

        <div id="content-4" class="letter-content w-full h-full hidden flex flex-col items-center justify-center bg-white text-center p-6 relative overflow-hidden">
            <div id="heart-container" class="absolute inset-0 pointer-events-none"></div>
            <div class="z-10">
                <h1 class="text-7xl text-red-500 font-hand mb-2">I Love You</h1>
                <div class="w-32 h-1 bg-red-200 mx-auto mb-6"></div>
                <p class="text-2xl text-gray-400 font-serif italic">"Maybe in another universe, we were meant for each other."</p>
                <img src="./img/elemen2 (1).jpg" class="w-24 mx-auto mt-8 animate-bounce">
            </div>
        </div>
    </div>

    <script>
        let currentAudio = null;

        function toPage2() {
            const p1 = document.getElementById('page1');
            const p2 = document.getElementById('page2');
            p1.style.transform = 'translateY(-100%)'; 
            setTimeout(() => {
                p2.classList.remove('hidden');
                setTimeout(() => { p2.classList.remove('opacity-0'); }, 50);
            }, 500);
        }

        function openLetter(id) {
            const envImg = document.getElementById(`env-${id}`);
            const originalSrc = envImg.src; 
            envImg.classList.add('animate-shake');
            setTimeout(() => {
                envImg.src = './img/sobek.png'; 
                envImg.classList.remove('animate-shake');
            }, 500);
            setTimeout(() => {
                showContent(id);
                envImg.src = originalSrc; 
            }, 1200);
        }

        function showContent(id) {
            stopAllMusic(); 
            document.querySelectorAll('.letter-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.letter-content').forEach(el => el.classList.remove('flex'));
            const selectedContent = document.getElementById(`content-${id}`);
            selectedContent.classList.remove('hidden');
            selectedContent.classList.add('flex');
            document.getElementById('letter-view').classList.remove('hidden');

            if(id === 3) {
                playMusic('audioLatter3');
            } else if(id === 4) {
                playMusic('audioLatter4');
                startHearts(); 
            } else {
                stopHearts();
            }
        }

        function playMusic(audioId) {
            const audio = document.getElementById(audioId);
            if(!audio) return;
            currentAudio = audio;
            audio.currentTime = 0;
            audio.volume = 0;
            audio.play();

            let fadeIn = setInterval(() => {
                if (audio.volume < 0.9) {
                    audio.volume = Math.min(audio.volume + 0.1, 1);
                } else {
                    clearInterval(fadeIn);
                }
            }, 200);

            audio.ontimeupdate = function() {
                if (audio.duration - audio.currentTime < 3) {
                    if (audio.volume > 0.1) {
                        audio.volume = Math.max(audio.volume - 0.05, 0);
                    }
                }
            };

            audio.onended = function() {
                closeLetter();
            };
        }

        function stopAllMusic() {
            const a3 = document.getElementById('audioLatter3');
            const a4 = document.getElementById('audioLatter4');
            [a3, a4].forEach(a => {
                if(a) {
                    a.pause();
                    a.currentTime = 0;
                }
            });
            currentAudio = null;
        }

        function closeLetter() {
            document.getElementById('letter-view').classList.add('hidden');
            stopAllMusic();
            stopHearts();
        }

        let heartInterval;
        function startHearts() {
            const container = document.getElementById('heart-container');
            if(!container) return;
            heartInterval = setInterval(() => {
                const heart = document.createElement('div');
                heart.innerHTML = 'â¤ï¸';
                heart.classList.add('heart-particle');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                container.appendChild(heart);
                setTimeout(() => { heart.remove(); }, 5000);
            }, 300);
        }

        function stopHearts() {
            clearInterval(heartInterval);
            const container = document.getElementById('heart-container');
            if(container) container.innerHTML = '';
        }
    </script>
</body>
</html>